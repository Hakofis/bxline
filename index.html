<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>BXLINE – One-Page Booking</title>
<style>
  :root{--brand:#00b7ff;--brand2:#0095cc;--ink:#0a2540;--bg:#f4f8fd;--card:#fff;--muted:#6b7b90;--ok:#0bb07b;--line:#e11900}
  *{box-sizing:border-box}
  body{margin:0;font-family:Segoe UI,system-ui,Arial,sans-serif;background:var(--bg);color:#222}

  .hero{position:relative;height:300px;background:url('assets/airport.jpg') center/cover no-repeat;display:flex;align-items:center;justify-content:center;color:#fff;text-align:center}
  .hero::after{content:"";position:absolute;inset:0;background:rgba(0,0,0,.45)}
  .hero .inner{position:relative;z-index:1;padding:0 16px}
  .hero h1{margin:0 0 8px;font-weight:800}
  .hero p{margin:0;opacity:.95}

  .container{max-width:1100px;margin:28px auto 60px;padding:0 16px}
  .progress{display:flex;gap:8px;align-items:center;justify-content:center;margin:10px 0 22px}
  .dot{width:26px;height:26px;border-radius:50%;background:#dfe9f5;color:#789;display:grid;place-items:center;font-weight:700}
  .dot.active{background:var(--brand);color:#fff}
  .bar{height:4px;background:#dfe9f5;width:80px;border-radius:10px}
  .bar.fill{background:linear-gradient(90deg,var(--brand),var(--brand2))}

  .step{background:var(--card);border-radius:14px;box-shadow:0 12px 28px rgba(0,0,0,.08);padding:22px;margin:18px 0}
  .step h2{margin:4px 0 6px;color:var(--ink)}
  .sub{color:var(--muted);margin:0 0 14px}
  label{display:block;margin:10px 0 6px;font-weight:600;color:#31465a}
  input,select{width:100%;padding:12px;border:1px solid #cfd8e3;border-radius:8px;font-size:15px}
  .grid{display:grid;grid-template-columns:1fr 1fr;gap:14px}
  .grid-3{display:grid;grid-template-columns:1fr 1fr 1fr;gap:14px}
  @media (max-width:900px){.grid,.grid-3{grid-template-columns:1fr}}
  .btn{width:100%;padding:14px;border:0;border-radius:10px;background:var(--brand);color:#fff;font-weight:700;cursor:pointer;transition:.2s}
  .btn:hover{background:var(--brand2)}
  .btn[disabled]{opacity:.55;cursor:not-allowed}
  .btn.light{background:#e6f6ff;color:#083b55}
  .btn.light:hover{background:#d8f0ff}
  .row-actions{display:flex;gap:10px;flex-wrap:wrap}
  .note{background:#eff7ff;border-radius:10px;padding:12px;margin-top:12px}
  .warn{background:#fff2f2;border:1px solid #ffc9c9;color:#a11;padding:10px;border-radius:8px;margin-top:10px}

  #map{width:100%;height:380px;border-radius:10px}

  .cars{display:grid;grid-template-columns:repeat(3,1fr);gap:14px}
  @media (max-width:900px){.cars{grid-template-columns:1fr}}
  .car{border:2px solid #e7eef6;border-radius:12px;overflow:hidden;background:#fff;cursor:pointer;transition:.2s}
  .car.selected{border-color:var(--brand)}
  .car .img{height:180px;display:flex;align-items:center;justify-content:center;background:#fff;}
  .car img{width:100%;height:100%;object-fit:cover;display:block;transition:.3s;}
  .car img.shrink{transform:scale(0.9);} /* %10 küçültme */
  .car .name{padding:10px;text-align:center;font-weight:700}

  .summary{background:#0d1b2a;color:#eaf2ff;border-radius:14px;padding:18px}
  .summary h3{margin:0 0 10px}
  .summary p{margin:.2rem 0}
  .price{font-size:22px;font-weight:800;color:#fff}
  .ok{color:var(--ok);font-weight:700}

  .footer-wrap{max-width:1100px;margin:0 auto 60px;padding:0 16px}
  .hr{height:1px;background:#dbe5f0;margin:28px 0}
  .footer{background:#ffffff;border:1px solid #e8eef6;border-radius:14px;box-shadow:0 10px 24px rgba(0,0,0,.06);padding:18px}
  .footer h4{margin:0 0 10px;color:#0a2540}
  .footer .fgrid{display:grid;grid-template-columns:2fr 1fr;gap:14px}
  @media (max-width:800px){.footer .fgrid{grid-template-columns:1fr}}
  .footer a{color:#0a66c2;text-decoration:none}
  .footer a:hover{text-decoration:underline}
  .small{color:#6b7b90;font-size:14px;margin-top:8px}

  /* back to top button */
  #backToTop{
    position:fixed;
    bottom:25px;
    right:25px;
    background:var(--brand);
    color:#fff;
    border:none;
    border-radius:50%;
    width:48px;
    height:48px;
    font-size:22px;
    cursor:pointer;
    box-shadow:0 4px 10px rgba(0,0,0,.2);
    display:none;
    transition:.3s;
    z-index:999;
  }
  #backToTop:hover{background:var(--brand2);transform:translateY(-2px);}
</style>
</head>
<body>
  <!-- HERO -->
  <section class="hero">
    <div class="inner">
      <h1>BXLINE Airport & City Transfers</h1>
      <p>One-page booking • Live route on the map • Instant price</p>
    </div>
  </section>

  <div class="container">
    <!-- PROGRESS -->
    <div class="progress" id="progress">
      <div class="dot active">1</div><div class="bar fill"></div>
      <div class="dot">2</div><div class="bar"></div>
      <div class="dot">3</div><div class="bar"></div>
      <div class="dot">4</div><div class="bar"></div>
      <div class="dot">5</div>
    </div>

    <!-- STEP 1 -->
    <section class="step" id="step1">
      <h2>Step 1 — Route</h2>
      <p class="sub">Choose pickup & drop-off. We’ll draw the <b>red route</b> and calculate distance & time.</p>
      <div class="grid">
        <div>
          <label>Pickup Location</label>
          <input id="pickup" type="text" placeholder="e.g. Mortsel, Belgium" autocomplete="off" />
        </div>
        <div>
          <label>Drop-off Location</label>
          <input id="dropoff" type="text" placeholder="e.g. Brussels Airport (BRU)" autocomplete="off" />
        </div>
      </div>
      <div class="row-actions" style="margin-top:12px">
        <button class="btn" id="btnRoute">Calculate</button>
        <button class="btn light" id="btnNext1">Next: Trip Details</button>
      </div>
      <div id="map" style="margin-top:14px"></div>
      <div id="calcResult" class="note" style="display:none"></div>
      <div id="calcError" class="warn" style="display:none"></div>
    </section>

    <!-- STEP 2 -->
    <section class="step" id="step2" style="display:none">
      <h2>Step 2 — Trip Details</h2>
      <p class="sub">Pick your date & time and tell us how many passengers.</p>
      <div class="grid-3">
        <div><label>Date</label><input id="date" type="date" /></div>
        <div><label>Time</label><input id="time" type="time" /></div>
        <div><label>Passengers</label><input id="passengers" type="number" min="1" value="1" /></div>
      </div>
      <div class="row-actions" style="margin-top:12px">
        <button class="btn light" onclick="goTo('step1')">Back</button>
        <button class="btn" onclick="goTo('step3')">Next: Choose Vehicle</button>
      </div>
    </section>

    <!-- STEP 3 -->
    <section class="step" id="step3" style="display:none">
      <h2>Step 3 — Choose Vehicle</h2>
      <p class="sub">Select your car. (Price multiplier applies to base price.)</p>
      <div class="cars" id="cars">
        <div class="car" data-name="Lexus" data-multi="1.00">
          <div class="img"><img src="assets/lexus.jpg" alt="Lexus" class="shrink"></div>
          <div class="name">Lexus · ×1.00</div>
        </div>
        <div class="car" data-name="Tesla Model Y" data-multi="1.15">
          <div class="img"><img src="assets/tesla-model-y.jpg" alt="Tesla Model Y" class="shrink"></div>
          <div class="name">Tesla Model Y · ×1.15</div>
        </div>
        <div class="car" data-name="Renault Arkana" data-multi="0.95">
          <div class="img"><img src="assets/renault-arkana.jpg" alt="Renault Arkana"></div>
          <div class="name">Renault Arkana · ×0.95</div>
        </div>
      </div>
      <div class="row-actions" style="margin-top:12px">
        <button class="btn light" onclick="goTo('step2')">Back</button>
        <button class="btn" onclick="goTo('step4')">Next: Contact</button>
      </div>
    </section>

    <!-- STEP 4 -->
    <section class="step" id="step4" style="display:none">
      <h2>Step 4 — Contact</h2>
      <p class="sub">We’ll confirm your booking as soon as we receive your request.</p>
      <div class="grid">
        <div><label>Full Name</label><input id="name" type="text" placeholder="Your name" /></div>
        <div><label>Email</label><input id="email" type="email" placeholder="you@email.com" /></div>
      </div>
      <div class="grid">
        <div><label>Phone (WhatsApp)</label><input id="phone" type="tel" placeholder="+32 ..." /></div>
        <div><label>Notes (optional)</label><input id="notes" type="text" placeholder="Flight no, child seat, etc." /></div>
      </div>
      <div class="row-actions" style="margin-top:12px">
        <button class="btn light" onclick="goTo('step3')">Back</button>
        <button class="btn" onclick="buildSummary(); goTo('step5')">Next: Review</button>
      </div>
    </section>

    <!-- STEP 5 -->
    <section class="step" id="step5" style="display:none">
      <h2>Step 5 — Review & Send</h2>
      <p class="sub">Check your details below and send your request.</p>
      <div class="summary" id="summaryBox">
        <h3>Your Booking</h3>
        <p id="sRoute"></p>
        <p id="sTime"></p>
        <p id="sVehicle"></p>
        <p id="sContact"></p>
        <p class="price" id="sPrice"></p>
        <p class="ok">We’ll confirm availability shortly.</p>
      </div>
      <div class="row-actions" style="margin-top:12px">
        <button class="btn" id="sendMail">Send by Email</button>
        <button class="btn light" id="sendWA">Message on WhatsApp</button>
      </div>
      <div class="row-actions" style="margin-top:12px">
        <button class="btn light" onclick="goTo('step4')">Back</button>
      </div>
    </section>
  </div>

  <!-- ===== Footer: tek adres ===== -->
  <div class="footer-wrap">
    <div class="hr"></div>
    <div class="footer">
      <div class="fgrid">
        <div>
          <h4>BXLANE International & Consulting BV</h4>
          <div>Excelciorlaan 31, <b>1930 Zaventem</b>, Belgium</div>
          <div class="small" style="margin-top:8px">
            <b>Phone (WhatsApp):</b> <a href="https://wa.me/32491255954" target="_blank">+32 491 25 59 54</a><br/>
            <b>Email:</b> <a href="mailto:bxlaneinternational@gmail.com">bxlaneinternational@gmail.com</a>
          </div>
        </div>
        <div>
          <h4>Support & Bookings</h4>
          <div class="small">Every day · 24/7</div>
          <div class="small" style="margin-top:6px">
            Quick help on WhatsApp:<br>
            <a href="https://wa.me/32491255954?text=Hello%2C%20I%20would%20like%20to%20book%20a%20transfer." target="_blank">Start chat →</a>
          </div>
        </div>
      </div>
      <div class="small" style="margin-top:10px">© BXLANE International & Consulting BV</div>
    </div>
  </div>

  <!-- Back to top button -->
  <button id="backToTop" title="Back to top">↑</button>

<script>
/* ---------- UI helpers ---------- */
function setProgress(step){
  const dots = document.querySelectorAll('.progress .dot');
  const bars = document.querySelectorAll('.progress .bar');
  dots.forEach((d,i)=>d.classList.toggle('active', i<step));
  bars.forEach((b,i)=>b.classList.toggle('fill', i<step-1));
}
function goTo(id){
  document.querySelectorAll('.step').forEach(s=>s.style.display='none');
  document.getElementById(id).style.display='block';
  const stepNo = {step1:1, step2:2, step3:3, step4:4, step5:5}[id] || 1;
  setProgress(stepNo);
}

/* ---------- Back to top ---------- */
const btnTop = document.getElementById("backToTop");
window.addEventListener("scroll",()=>{
  btnTop.style.display = (document.documentElement.scrollTop>100) ? "block" : "none";
});
btnTop.addEventListener("click",()=>window.scrollTo({top:0,behavior:"smooth"}));

/* ---------- Maps & pricing ---------- */
let map, dirService, dirRenderer, ac1, ac2;
let lastKM = 0, lastMins = 0;
const ratePerKm = 4.5; // €
let vehicle = {name:"Lexus", multi:1.00};

function initAll(){
  // map
  map = new google.maps.Map(document.getElementById('map'),{
    center:{lat:50.850, lng:4.351}, zoom:9, mapTypeControl:false, streetViewControl:false
  });
  dirService = new google.maps.DirectionsService();
  dirRenderer = new google.maps.DirectionsRenderer({
    map,
    polylineOptions:{strokeColor:'#e11900', strokeWeight:5}
  });

  // places autocomplete
  ac1 = new google.maps.places.Autocomplete(document.getElementById('pickup'), {types:['geocode']});
  ac2 = new google.maps.places.Autocomplete(document.getElementById('dropoff'), {types:['geocode']});

  // default values to demo
  document.getElementById('pickup').value = "Mortsel, Belgium";
  document.getElementById('dropoff').value = "Brussels Airport (BRU), Leopoldlaan, Zaventem, Belgium";

  // buttons
  document.getElementById('btnRoute').addEventListener('click', calcAndDrawRoute);
  document.getElementById('btnNext1').addEventListener('click', async ()=>{
    await calcAndDrawRoute(); // otomatik hesapla
    goTo('step2');
  });

  // vehicles
  document.querySelectorAll('.car').forEach(c=>{
    c.addEventListener('click',()=>{
      document.querySelectorAll('.car').forEach(x=>x.classList.remove('selected'));
      c.classList.add('selected');
      vehicle = {name:c.dataset.name, multi: parseFloat(c.dataset.multi)};
    });
  });
  // default select first
  document.querySelector('.car').classList.add('selected');

  // send actions
  document.getElementById('sendMail').addEventListener('click', sendEmail);
  document.getElementById('sendWA').addEventListener('click', sendWA);
}

/* draw route + calc price */
async function calcAndDrawRoute(){
  const origin = document.getElementById('pickup').value.trim();
  const dest = document.getElementById('dropoff').value.trim();
  const err = document.getElementById('calcError');
  const out = document.getElementById('calcResult');
  err.style.display='none'; out.style.display='none';

  if(!origin || !dest){
    err.textContent='Please enter both pickup and drop-off.'; err.style.display='block'; return;
  }

  try{
    const res = await dirService.route({
      origin, destination: dest, travelMode: google.maps.TravelMode.DRIVING
    });
    dirRenderer.setDirections(res);

    const leg = res.routes[0].legs[0];
    lastKM = leg.distance.value/1000; // km
    lastMins = Math.round(leg.duration.value/60);
    const base = lastKM * ratePerKm;
    const price = base * vehicle.multi;

    out.innerHTML = `Distance: <b>${lastKM.toFixed(1)} km</b> • Duration: <b>${lastMins} mins</b> • Estimated Price (x${vehicle.multi.toFixed(2)}): <b>€${price.toFixed(2)}</b>`;
    out.style.display='block';
  }catch(e){
    err.textContent = 'Directions error: ' + (e?.message || 'REQUEST_DENIED');
    err.style.display='block';
  }
}

/* summary + send */
function buildSummary(){
  const pick = document.getElementById('pickup').value;
  const drop = document.getElementById('dropoff').value;
  const date = document.getElementById('date').value || '-';
  const time = document.getElementById('time').value || '-';
  const pax  = document.getElementById('passengers').value || '1';

  const base = lastKM * ratePerKm;
  const price = isFinite(base) ? (base*vehicle.multi) : 0;

  document.getElementById('sRoute').innerHTML = `Route: <b>${pick}</b> → <b>${drop}</b>`;
  document.getElementById('sTime').innerHTML  = `When: <b>${date} ${time}</b> • Passengers: <b>${pax}</b> • Distance: <b>${isFinite(lastKM)?lastKM.toFixed(1):'-'} km</b> • Duration: <b>${isFinite(lastMins)?lastMins:'-'} mins</b>`;
  document.getElementById('sVehicle').innerHTML= `Vehicle: <b>${vehicle.name} (×${vehicle.multi.toFixed(2)})</b>`;
  const nm  = (document.getElementById('name').value||'-');
  const em  = (document.getElementById('email').value||'-');
  const ph  = (document.getElementById('phone').value||'-');
  document.getElementById('sContact').innerHTML= `Contact: <b>${nm}</b> • <span>${em}</span> • <span>${ph}</span>`;
  document.getElementById('sPrice').textContent= `Estimated Price: €${isFinite(price)?price.toFixed(2):'0.00'}`;
}

/* helpers to assemble message */
function currentBookingText(){
  const pick = document.getElementById('pickup').value;
  const drop = document.getElementById('dropoff').value;
  const date = document.getElementById('date').value || '-';
  const time = document.getElementById('time').value || '-';
  const pax  = document.getElementById('passengers').value || '1';
  const nm  = (document.getElementById('name').value||'-');
  const em  = (document.getElementById('email').value||'-');
  const ph  = (document.getElementById('phone').value||'-');

  const base = lastKM*ratePerKm; const price = isFinite(base)?(base*vehicle.multi).toFixed(2):'0.00';
  return `Route: ${pick} -> ${drop}
When: ${date} ${time}
Passengers: ${pax}
Vehicle: ${vehicle.name} (x${vehicle.multi.toFixed(2)})
Distance: ${isFinite(lastKM)?lastKM.toFixed(1):'-'} km • Duration: ${isFinite(lastMins)?lastMins:'-'} mins
Estimated Price: €${price}
Contact: ${nm} • ${em} • ${ph}`;
}
function sendEmail(){
  const subject = encodeURIComponent('BXLINE Transfer Request');
  const body    = encodeURIComponent(currentBookingText());
  window.location.href = `mailto:bxlaneinternational@gmail.com?subject=${subject}&body=${body}`;
}
function sendWA(){
  const msg = encodeURIComponent("Hello, I'd like to book a transfer:\n\n"+currentBookingText());
  window.open(`https://wa.me/32491255954?text=${msg}`,'_blank');
}
</script>

<!-- Google Maps -->
<script async defer
  src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBB3f6S3YNUd7QndOoL4MYGQ6TycnaOLgg&libraries=places&callback=initAll">
</script>
</body>
</html>
