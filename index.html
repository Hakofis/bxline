<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>BXLINE Airport & City Transfers</title>
  <style>
    html { scroll-behavior: smooth; }
    body{
      font-family: system-ui, -apple-system, "Segoe UI", Roboto, Arial, sans-serif;
      margin:0; background:#f7faff; color:#333;
    }
    header{
      background:url('https://upload.wikimedia.org/wikipedia/commons/8/8a/Brussels_Airport_Terminal.jpg') center/cover no-repeat;
      color:#fff; text-align:center; padding:80px 20px;
      text-shadow:0 0 6px rgba(0,0,0,.7);
    }
    header h1{font-size:26px;margin:0 0 8px}
    header p{margin:0;opacity:.95}

    .container{
      max-width: 900px; margin: 28px auto; background:#fff; border-radius:12px;
      padding: 22px; box-shadow:0 10px 30px rgba(33,33,52,.08);
    }

    h2{margin:6px 0 10px;font-size:20px}
    .sub{margin:0 0 12px;color:#4e5a6a}

    label{display:block;margin:10px 0 6px;font-weight:600}
    input{
      width:100%; padding:12px; border:1px solid #cfd6e4; border-radius:8px;
      outline:none; font-size:15px;
    }
    input:focus{border-color:#00aaff; box-shadow:0 0 0 3px rgba(0,170,255,.15)}

    .grid{display:grid;grid-template-columns:1fr 1fr;gap:12px}
    @media (max-width: 720px){ .grid{grid-template-columns:1fr}}

    .btn{
      display:inline-block; background:#00aaff; color:#fff; border:0; border-radius:8px;
      padding:12px 14px; cursor:pointer; font-weight:600; font-size:15px;
    }
    .btn:hover{background:#008fd1}
    .btn.light{
      background:#e9f6ff; color:#036895;
    }
    .row-actions{display:flex; gap:10px; margin-top:12px; flex-wrap:wrap}
    .row-actions .btn{flex:1}

    #map{width:100%;height:380px;border-radius:10px;margin-top:14px}
    .note{background:#eaf6ff;border:1px solid #cfeaff;padding:10px;border-radius:8px;margin-top:12px}
    .warn{background:#fff4f3;border:1px solid #ffd6d3;padding:10px;border-radius:8px;margin-top:12px;color:#9c2b24}

    footer{
      background:#fff; border-top:1px solid #e9eef5; padding:24px; color:#445;
      display:flex; gap:24px; justify-content:space-between; flex-wrap:wrap
    }
    .footer-left{min-width:260px}
    .footer-right{text-align:right}

    /* WhatsApp baloncuğu */
    .whatsapp-button{
      position:fixed; right:22px; bottom:22px; z-index:1000;
      width:60px; height:60px; border-radius:50%;
      background:#25d366; display:flex; align-items:center; justify-content:center;
      box-shadow:0 6px 18px rgba(0,0,0,.25);
    }
    .whatsapp-button img{width:34px;height:34px}

    /* Başa dön butonu */
    #backToTop{
      position:fixed; right:22px; bottom:92px;  /* WhatsApp’ın üstünde */
      z-index:999; display:none;
      background:#0b84ff; color:#fff; border:0; border-radius:26px;
      padding:10px 14px; font-weight:700; cursor:pointer; box-shadow:0 6px 18px rgba(0,0,0,.2);
    }
    #backToTop:hover{background:#0769cc}
  </style>
</head>
<body>

  <header id="top">
    <h1>BXLINE Airport & City Transfers</h1>
    <p>Tek sayfada rezervasyon • Haritada canlı rota • Anında fiyat</p>
  </header>

  <main class="container" id="step1">
    <h2>Adım 1 — Rota</h2>
    <p class="sub">Alış ve bırakış noktalarını seç. <b>Haritada kırmızı rota</b> çizilsin; mesafe ve süre hesaplansın.</p>

    <div class="grid">
      <div>
        <label for="pickup">Alış yeri</label>
        <input id="pickup" type="text" placeholder="Örn: Mortsel, Belgium" autocomplete="off">
      </div>
      <div>
        <label for="dropoff">Bırakış yeri</label>
        <input id="dropoff" type="text" placeholder="Örn: Brussels Airport (BRU)" autocomplete="off">
      </div>
    </div>

    <div class="row-actions">
      <button class="btn" id="btnRoute">Hesapla ve Çiz</button>
      <button class="btn light" id="btnNext1">Sonraki: Yolculuk Bilgisi</button>
    </div>

    <!-- Harita -->
    <div id="map"></div>

    <!-- Sonuçlar -->
    <div id="calcResult" class="note" style="display:none"></div>
    <div id="calcError" class="warn" style="display:none"></div>
  </main>

  <footer>
    <div class="footer-left">
      <b>BXLINE International & Consulting BV</b><br>
      Excelsiorlaan 31, <b>1930 Zaventem</b>, Belgium<br>
      Telefon (WhatsApp): +32 491 25 59 54<br>
      E-posta: bxlineinternational@gmail.com
    </div>
    <div class="footer-right">
      Her gün • 24/7<br>
      Hızlı destek WhatsApp’tan
    </div>
  </footer>

  <!-- Başa dön ↑ -->
  <button id="backToTop" aria-label="Başa dön">Başa dön ↑</button>

  <!-- WhatsApp Baloncuğu -->
  <a class="whatsapp-button" href="https://wa.me/32491255954" target="_blank" aria-label="WhatsApp ile mesaj gönder">
    <img src="https://upload.wikimedia.org/wikipedia/commons/6/6b/WhatsApp.svg" alt="">
  </a>

  <script>
    let map, directionsService, directionsRenderer;

    // Harita ve autocomplete başlangıcı
    function initAll(){
      directionsService  = new google.maps.DirectionsService();
      directionsRenderer = new google.maps.DirectionsRenderer({
        suppressMarkers:false,
        polylineOptions:{ strokeColor:"#ff2a2a", strokeWeight:5 }
      });

      map = new google.maps.Map(document.getElementById('map'),{
        zoom: 9,
        center: { lat:50.8503, lng:4.3517 } // Brüksel
      });
      directionsRenderer.setMap(map);

      new google.maps.places.Autocomplete(document.getElementById('pickup'));
      new google.maps.places.Autocomplete(document.getElementById('dropoff'));

      // Olaylar
      document.getElementById('btnRoute').addEventListener('click', calculateRoute);
      document.getElementById('btnNext1').addEventListener('click', () => {
        // Sonraki adıma kaydır (şimdilik sadece haritanın altına iniyor)
        document.getElementById('calcResult').scrollIntoView({behavior:'smooth', block:'start'});
      });

      // Başa dön butonu: scroll izleme
      const backBtn = document.getElementById('backToTop');
      window.addEventListener('scroll', () => {
        if (window.scrollY > 350) backBtn.style.display = 'inline-block';
        else backBtn.style.display = 'none';
      });
      backBtn.addEventListener('click', () => {
        document.getElementById('top').scrollIntoView({behavior:'smooth'});
      });
    }

    // Rota hesaplama
    function calculateRoute(){
      const origin = document.getElementById('pickup').value.trim();
      const destination = document.getElementById('dropoff').value.trim();
      const resultBox = document.getElementById('calcResult');
      const errBox    = document.getElementById('calcError');

      resultBox.style.display = 'none';
      errBox.style.display = 'none';

      if(!origin || !destination){
        errBox.textContent = "Lütfen hem alış hem bırakış yerini yazın.";
        errBox.style.display = 'block';
        return;
      }

      directionsService.route({
        origin, destination,
        travelMode: google.maps.TravelMode.DRIVING
      }, (response, status) => {
        if(status === 'OK'){
          directionsRenderer.setDirections(response);
          const leg = response.routes[0].legs[0];
          const km = (leg.distance.value / 1000);
          const price = (km * 4.5).toFixed(2);

          resultBox.innerHTML = `
            <b>Mesafe:</b> ${leg.distance.text} •
            <b>Süre:</b> ${leg.duration.text} •
            <b>Tahmini Fiyat:</b> €${price}
          `;
          resultBox.style.display = 'block';
        } else {
          errBox.textContent = "Rota çizilemedi: " + status;
          errBox.style.display = 'block';
        }
      });
    }
  </script>

  <!-- Google Maps + Places (callback initAll) -->
  <script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBB3f6S3YNUd7QndOoL4MYGQ6TycnaOLgg&libraries=places&callback=initAll"></script>
</body>
</html>
